<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:fb="http://ogp.me/ns/fb#">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#23c890">
  <link rel="icon" sizes="144x144" type="image/png" href="favicon.png">

  <meta property="og:image" content="http://blynkmap.localtunnel.me/preview.png" />
  <meta property="og:image:secure_url" content="https://blynkmap.localtunnel.me/preview.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="269" />

  <title>Blynk Community Map</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0-beta.2/leaflet.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0-beta.2/leaflet.js"></script>
  <link rel="stylesheet" href="style.css" />

  <script src="https://leaflet.github.io/Leaflet.heat/dist/leaflet-heat.js"></script>

  <script src="map_data.js"></script>

</head>
<body>
  <div class="header"><a href="http://community.blynk.cc/"><img src="community_logo.png" width="300px"/></a></div>
  <div id="map"></div>
  <div style="text-align: center; font-weight: bold">Move your mouse over a cluster to see the bounds, click a cluster to zoom to those bounds</div>

  <div style="text-align: center">Join our community forum <a href="http://community.blynk.cc/">http://community.blynk.cc/</a><div/>
  <script type="text/javascript">

    var grayscale = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoidnNoeW1hbnNreXkiLCJhIjoiY2l6eTByeTd3MDAyMDJ3bzBlZHR2eGZpMiJ9.LeF5vHbi2AUxKgeoOnP_yg', {
      id: 'mapbox.light',
      maxZoom: 17,
      attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
                  '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                  'Imagery Â© <a href="http://mapbox.com">Mapbox</a>'
    });

    for (var i = 0; i < addressPoints.length; i++) {
      var a = addressPoints[i];
      a[2] = 7
    }

    var heat = L.heatLayer(addressPoints, {
      radius: 20,
      blur: 20,
      //gradient: { 0: '#23c890', 0.6: '#23c890' }
    });

    var map = L.map('map', {
      //zoomAnimation: false,
      layers: [grayscale, heat],
      worldCopyJump: true
    });
    map.fitWorld().zoomIn();

  </script>
</body>
</html>
